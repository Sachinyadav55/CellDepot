<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Getting start with CellDepot | Supplementary Materials - CellDepot: A unified repository for scRNAseq data and visual exploration</title>
  <meta name="description" content="Chapter 2 Getting start with CellDepot | Supplementary Materials - CellDepot: A unified repository for scRNAseq data and visual exploration" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Getting start with CellDepot | Supplementary Materials - CellDepot: A unified repository for scRNAseq data and visual exploration" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="https://github.com/interactivereport/CellDepot" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Getting start with CellDepot | Supplementary Materials - CellDepot: A unified repository for scRNAseq data and visual exploration" />
  
  
  



<meta name="date" content="2021-12-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="SITable.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CellDepot</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="getting-start-with-celldepot.html"><a href="getting-start-with-celldepot.html"><i class="fa fa-check"></i><b>2</b> Getting start with CellDepot</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-start-with-celldepot.html"><a href="getting-start-with-celldepot.html#sources-of-annotation-and-metadata"><i class="fa fa-check"></i><b>2.1</b> Sources of annotation and metadata</a></li>
<li class="chapter" data-level="2.2" data-path="getting-start-with-celldepot.html"><a href="getting-start-with-celldepot.html#data-format-availability-and-preparation"><i class="fa fa-check"></i><b>2.2</b> Data format, availability, and preparation</a></li>
<li class="chapter" data-level="2.3" data-path="getting-start-with-celldepot.html"><a href="getting-start-with-celldepot.html#celldepot-platform-and-installation"><i class="fa fa-check"></i><b>2.3</b> CellDepot platform and installation</a></li>
<li class="chapter" data-level="2.4" data-path="getting-start-with-celldepot.html"><a href="getting-start-with-celldepot.html#cron"><i class="fa fa-check"></i><b>2.4</b> How to set up cron job?</a></li>
<li class="chapter" data-level="2.5" data-path="getting-start-with-celldepot.html"><a href="getting-start-with-celldepot.html#celldepot-api-application-programming-interface"><i class="fa fa-check"></i><b>2.5</b> CellDepot API (Application Programming Interface)</a></li>
<li class="chapter" data-level="2.6" data-path="getting-start-with-celldepot.html"><a href="getting-start-with-celldepot.html#code-availability"><i class="fa fa-check"></i><b>2.6</b> Code availability</a></li>
<li class="chapter" data-level="2.7" data-path="getting-start-with-celldepot.html"><a href="getting-start-with-celldepot.html#online-tutorials"><i class="fa fa-check"></i><b>2.7</b> Online tutorials</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="SITable.html"><a href="SITable.html"><i class="fa fa-check"></i><b>3</b> Supplemental Tables</a>
<ul>
<li><a href="SITable.html#table-s1---comparison-matrix-of-web-portal-tools"><span>Table S1</span> - Comparison matrix of web portal tools</a></li>
<li><a href="SITable.html#table-s2---criterion-for-query-search"><span>Table S2</span> - Criterion for query search</a></li>
<li><a href="SITable.html#table-s3---criterion-for-data-analysis-explorer"><span>Table S3</span> - Criterion for data analysis explorer</a></li>
<li><a href="SITable.html#table-s4---project-metadata-captured-in-celldepot"><span>Table S4</span> - Project metadata captured in CellDepot</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="SITutorial.html"><a href="SITutorial.html"><i class="fa fa-check"></i><b>4</b> Supplemental Tutorial</a>
<ul>
<li class="chapter" data-level="4.1" data-path="SITutorial.html"><a href="SITutorial.html#browse-projects"><i class="fa fa-check"></i><b>4.1</b> Browse Projects</a></li>
<li class="chapter" data-level="4.2" data-path="SITutorial.html"><a href="SITutorial.html#search"><i class="fa fa-check"></i><b>4.2</b> Search Projects</a></li>
<li class="chapter" data-level="4.3" data-path="SITutorial.html"><a href="SITutorial.html#project-filters"><i class="fa fa-check"></i><b>4.3</b> Project Filters</a></li>
<li class="chapter" data-level="4.4" data-path="SITutorial.html"><a href="SITutorial.html#visualize-datasets"><i class="fa fa-check"></i><b>4.4</b> Visualize Datasets</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="SITutorial.html"><a href="SITutorial.html#view-details"><i class="fa fa-check"></i><b>4.4.1</b> View Details</a></li>
<li class="chapter" data-level="4.4.2" data-path="SITutorial.html"><a href="SITutorial.html#figures6"><i class="fa fa-check"></i><b>4.4.2</b> Data Visualization and Analysis by cellxgene VIP</a></li>
<li class="chapter" data-level="4.4.3" data-path="SITutorial.html"><a href="SITutorial.html#case-study-1"><i class="fa fa-check"></i><b>4.4.3</b> Case Study 1</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="SITutorial.html"><a href="SITutorial.html#search-genes"><i class="fa fa-check"></i><b>4.5</b> Search Genes</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="SITutorial.html"><a href="SITutorial.html#case-study-2"><i class="fa fa-check"></i><b>4.5.1</b> Case Study 2</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="SITutorial.html"><a href="SITutorial.html#import"><i class="fa fa-check"></i><b>4.6</b> Import Projects</a></li>
<li class="chapter" data-level="4.7" data-path="SITutorial.html"><a href="SITutorial.html#create-project"><i class="fa fa-check"></i><b>4.7</b> Create Project</a></li>
<li class="chapter" data-level="4.8" data-path="SITutorial.html"><a href="SITutorial.html#update-a-project"><i class="fa fa-check"></i><b>4.8</b> Update a Project</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Supplementary Materials - CellDepot: A unified repository for scRNAseq data and visual exploration</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="getting-start-with-celldepot" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Getting start with CellDepot</h1>
<div id="sources-of-annotation-and-metadata" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Sources of annotation and metadata</h2>
<p>The original metadata information of each scRNA-seq dataset is retrieved from h5ad file, which is a preferred way of sharing and storing an on-disk representation of anndata object. When importing the dataset to the system, user inputs additional metadata information as shown in (<a href="SITutorial.html#import">4.6</a>). Both metadata are collected and stored in a MySQL database table that is presented at <a href="http://celldepot.bxgenomics.com" class="uri">http://celldepot.bxgenomics.com</a> and Biogen internal instance, <a href="http://go.biogen.com/CellDepot" class="uri">http://go.biogen.com/CellDepot</a>.</p>
</div>
<div id="data-format-availability-and-preparation" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Data format, availability, and preparation</h2>
<p>CellDepot requires scRNA-seq data in h5ad file where the expression matrix is stored in CSC (compressed sparse column) instead of CSR (compressed sparse row) format to improve the speed of data retrieving. For example, designating genes as columns in the h5ad file creates the interactive plot five times faster than as rows. Just in case, we provide sample scripts to help users generate h5ad files. Having gene expression matrix, metadata, and layout files, users can easily combine and convert their data to h5ad file by following this R script on <a href="https://github.com/interactivereport/CellDepot/blob/main/toH5ad.R" class="uri">https://github.com/interactivereport/CellDepot/blob/main/toH5ad.R</a>. In the case of lacking layout file, users can also create h5ad file by following the Jupyter notebook <a href="https://github.com/interactivereport/CellDepot/blob/main/raw2h5ad.ipynb" class="uri">https://github.com/interactivereport/CellDepot/blob/main/raw2h5ad.ipynb</a> with custom python script tailored to their own data. Categorical features extracted from a h5ad file are shown in the ‘annotation groups’ column of the table on CellDepot home page, while the numerical features are shown as the histograms in the rightmost panel on cellxgene VIP. (<a href="SITutorial.html#figures6">4.4.2</a>)</p>
</div>
<div id="celldepot-platform-and-installation" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> CellDepot platform and installation</h2>
<p>The public version of CellDepot web portal is hosted at the web site, <a href="http://celldepot.bxgenomics.com" class="uri">http://celldepot.bxgenomics.com</a> and Biogen internal link <a href="http://go.biogen.com/CellDepot" class="uri">http://go.biogen.com/CellDepot</a>. It is implemented with MySQL database, an advanced search engine, and powerful interactive visualizing tools that allow users to explore attributes of datasets as well as scRNA-seq analysis results. Also, users can intentionally select single-cell RNA-seq datasets on the web interface by simply browsing the online dataset table or applying advanced search to perform the cross-dataset comparison. Moreover, CellDepot also provides comprehensive data analysis tools via an embedded interactive visualization plugin. To host private datasets, local instance of CellDepot on Unix server can be installed by following the guide here, <a href="https://celldepot.bxgenomics.com/celldepot_manual/install_environment.php" class="uri">https://celldepot.bxgenomics.com/celldepot_manual/install_environment.php</a>.</p>
</div>
<div id="cron" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> How to set up cron job?</h2>
<p>The following cron job entry is needed to convert h5ad file to CSC format on the background,</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="getting-start-with-celldepot.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">@hourly</span> <span class="op">&lt;</span>user-name<span class="op">&gt;</span> cd /var/www/html/celldepot/app/core<span class="kw">;</span> <span class="ex">php</span> ./api_toCSCh5ad.php</span></code></pre></div>
<p>Note: Please make sure that the user has the permission to write in the data directory.</p>
</div>
<div id="celldepot-api-application-programming-interface" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> CellDepot API (Application Programming Interface)</h2>
<p>The CellDepot API web service provides a direct way to generate figures for users to share or embed in web page. For example, the following URL will generate a gene expression violin plot across cell clusters for IRAK4 gene for the data set with ID equaling one, <a href="https://celldepot.bxgenomics.com/celldepot/app/core/api_gene_plot.php?ID=1&amp;Genes=IRAK4&amp;Plot_Type=violin&amp;Subsampling=0&amp;n=0&amp;g=0&amp;Project_Group=CLUSTER" class="uri">https://celldepot.bxgenomics.com/celldepot/app/core/api_gene_plot.php?ID=1&amp;Genes=IRAK4&amp;Plot_Type=violin&amp;Subsampling=0&amp;n=0&amp;g=0&amp;Project_Group=CLUSTER</a>. The complete format of the URL and explanation of parameters are detailed in the online documentation, <a href="https://celldepot.bxgenomics.com/celldepot_manual/api_gene_plot.php" class="uri">https://celldepot.bxgenomics.com/celldepot_manual/api_gene_plot.php</a>.</p>
</div>
<div id="code-availability" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Code availability</h2>
<p>The source code, links to tutorials and other supplementary documents are provided at <a href="https://github.com/interactivereport/CellDepot" class="uri">https://github.com/interactivereport/CellDepot</a>. With broad adoption and contribution in mind, CellDepot is released under the MIT open-source license. The detailed instruction of local installation is available at <a href="https://celldepot.bxgenomics.com/celldepot_manual" class="uri">https://celldepot.bxgenomics.com/celldepot_manual</a>.</p>
</div>
<div id="online-tutorials" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Online tutorials</h2>
<p>To better assist biologists to use CellDepot and integrated cellxgene VIP visual analytical tool, we created online easy-to-access HTML tutorials with step-by-step guides available at <a href="https://interactivereport.github.io/CellDepot/bookdown/docs/SITutorial.html" class="uri">https://interactivereport.github.io/CellDepot/bookdown/docs/SITutorial.html</a> for CellDepot and <a href="https://interactivereport.github.io/cellxgene_VIP/tutorial/docs/how-to-use-cellxgene-vip.html" class="uri">https://interactivereport.github.io/cellxgene_VIP/tutorial/docs/how-to-use-cellxgene-vip.html</a> for cellxgene VIP, respectively. In addition, a question mark next to the title of each VIP function module provides a direct way to reach the corresponding section of the HTML document for help.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="SITable.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-Method.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["CellDepot.pdf", "CellDepot.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"pandoc_args": ["--lua-filter=scholarly-metadata.lua", "--lua-filter=author-info-blocks.lua"]
});
});
</script>

</body>

</html>
